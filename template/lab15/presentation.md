---
## Front matter
lang: ru-RU
title: Лабораторная работа №15
subtitle: Настройка сетевого журналирования
author:
  - Спелов А. Н.
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 12 декабря 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'

## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Спелов Андрей Николаевич
  * НПИбд-02-23 Студ. билет: 1132231839
  * Российский университет дружбы народов
  * [1132231839@pfur.ru](mailto:1132231839@pfur.ru)

:::
::: {.column width="30%"}
:::
::::::::::::::

# Вводная часть

## Цель работы

- Целью данной работы является получение навыков по работе с журналами системных событий.

# Основная часть

## Настройка сервера сетевого журнала

- Создание на сервере файла конфигурации сетевого хранения журналов.

![](./image/1.png)

## Настройка сервера сетевого журнала

- Включение в файле конфигурации /etc/rsyslog.d/netlog-server.conf приёма записей журнала по TCP-порту 514

![](./image/2.png)

## Настройка сервера сетевого журнала

- Перезапуск службы rsyslog и просмотр прослушиваемых портов, связанных с rsyslog.

![](./image/3.png)

## Настройка сервера сетевого журнала

-  Настройка на сервере межсетевого экрана для приёма сообщений по TCP-порту 514

![](./image/4.png)

## Настройка клиента сетевого журнала

- Создание на клиенте файла конфигурации сетевого хранения журналов.

![](./image/5.png)

## Настройка клиента сетевого журнала

- Включение в файле конфигурации /etc/rsyslog.d/netlog-client.conf перенаправления сообщений журнала на 514 TCP-порт сервера.

![](./image/6.png)

## Настройка клиента сетевого журнала

- Перезапуск службы rsyslog.

![](./image/7.png)

## Просмотр журнала

- Просмотр на сервере одного из файлов журнала.

![](./image/8.png)

## Просмотр журнала

- Запуск на сервере под пользователем anspelov графической программы для просмотра журналов.

![](./image/9.png)

## Просмотр журнала

- Установка на сервере просмотрщика журналов системных сообщений.

![](./image/10.png)

## Просмотр журнала

- Просмотр логов

![](./image/11.png)

## Внесение изменений в настройки внутреннего окружения виртуальных машин

- Переход на виртуальной машине server в каталог для внесения изменений в настройки внутреннего окружения /vagrant/provision/server/, создание в нём каталога netlog, в который помещаем в соответствующие подкаталоги конфигурационные файлы. Создание в каталоге /vagrant/provision/server исполняемого файла netlog.sh.

![](./image/12.png)

## Настройка сервера NFSv4

- Открытие файла на редактирование и добавление в него скрипта.

![](./image/13.png)

## Монтирование NFS на клиенте

- Переход на виртуальной машине client в каталог для внесения изменений в настройки внутреннего окружения /vagrant/provision/client/, создание в нём каталога nentlog, в который помещаем в соответствующие подкаталоги конфигурационные файлы. Создание в каталоге /vagrant/provision/client исполняемого файла netlog.sh.

![](./image/14.png)

## Монтирование NFS на клиенте

- Открытие файла на редактирование и добавление в него скрипта.

![](./image/15.png)

## Монтирование NFS на клиенте

- Добавление конфигураций в конфигурационном файле Vagrantfile для сервера и клиента.

![](./image/16.png)

# Вывод

## Вывод

- В ходе выполнения лабораторной работы были получены навыки по работе с журналами системных событий.