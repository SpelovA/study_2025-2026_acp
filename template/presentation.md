---
## Front matter
lang: ru-RU
title: Лабораторная работа №11
subtitle: Настройка безопасного удалённого доступа по протоколу SSH
author:
  - Спелов А. Н.
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 14 ноября 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'

## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Спелов Андрей Николаевич
  * НПИбд-02-23 Студ. билет: 1132231839
  * Российский университет дружбы народов
  * [1132231839@pfur.ru](mailto:1132231839@pfur.ru)

:::
::: {.column width="30%"}
:::
::::::::::::::

# Вводная часть

## Цель работы

- Целью данной работы является приобретение практических навыков по настройке удалённого доступа к серверу с помощью SSH.

# Основная часть

## Запрет удалённого доступа по SSH для пользователя root

- Открытие режима суперпользователя на виртуальной машине server и создание пароля для пользователя root.

![](./image/1.png)

## Запрет удалённого доступа по SSH для пользователя root

- Запуск в дополнительном терминале мониторинга системных событий.

![](./image/2.png)

## Запрет удалённого доступа по SSH для пользователя root

- Попытка получить с клиента доступ к серверу посредством SSH-соединения через пользователя root.

![](./image/3.png)

## Запрет удалённого доступа по SSH для пользователя root

- Открытие на сервере файла /etc/ssh/sshd_config конфигурации sshd для редактирования и запрет входа на сервер пользователю root.

![](./image/4.png)

## Запрет удалённого доступа по SSH для пользователя root

- Перезапуск sshd.

![](./image/5.png)

## Запрет удалённого доступа по SSH для пользователя root

- Повторная попытка получения доступа с клиента к серверу посредством SSH-соединения через пользователя root.

![](./image/6.png)

## Ограничение списка пользователей для удалённого доступа по SSH

- Попытка получить с клиента доступ к серверу посредством SSH-соединения через пользователя anspelov.

![](./image/7.png)

## Ограничение списка пользователей для удалённого доступа по SSH

- Открытие на сервере файла /etc/ssh/sshd_config конфигурации sshd на редактирование и добавление нужной строки.

![](./image/8.png)

## Ограничение списка пользователей для удалённого доступа по SSH

- Перезапуск sshd.

![](./image/9.png)

## Ограничение списка пользователей для удалённого доступа по SSH

- Повторная попытка получения доступа с клиента к серверу посредством SSH-соединения через пользователя anspelov.

![](./image/10.png)

## Ограничение списка пользователей для удалённого доступа по SSH

- Внесение изменения в файле /etc/ssh/sshd_config конфигурации sshd.

![](./image/11.png)

## Ограничение списка пользователей для удалённого доступа по SSH

- Перезапуск sshd и повторная попытка получить доступ с клиента к серверу посредством SSH- соединения через пользователя anspelov.

![](./image/12.png)

## Настройка дополнительных портов для удалённого доступа по SSH

- Добавление ниже строки Port записей в файле конфигурации sshd /etc/ssh/sshd_config на сервере.

![](./image/13.png)

## Настройка дополнительных портов для удалённого доступа по SSH

- Перезапуск sshd и просмотр расширенного статуса работы.

![](./image/14.png)

## Настройка дополнительных портов для удалённого доступа по SSH

- Исправление на сервере метки SELinux к порту 2022, открытие в настройках межсетевого порта 2022 протокола TCP, повторный перезапуск sshd и просмотр расширенного статуса его работы.

![](./image/15.png)

## Настройка дополнительных портов для удалённого доступа по SSH

- Попытка получить с клиента доступа к серверу посредством SSH-соединения через пользователя anspelov и получение доступа root.

![](./image/16.png)

## Настройка дополнительных портов для удалённого доступа по SSH

- Повторная попытка получения доступа с клиента к серверу посредством SSH-соединения через пользователя anspelov, указав порт 2022 Получение доступа root.

![](./image/17.png)

## Настройка удалённого доступа по SSH по ключу

- Настройка параметра на сервере в конфигурационном файле /etc/ssh/sshd_config, разрешающего аутентификацию по ключу.

![](./image/18.png)

## Настройка удалённого доступа по SSH по ключу

- Перезапуск sshd.

![](./image/19.png)

## Настройка удалённого доступа по SSH по ключу

- Формирование на клиенте SSH-ключа и копирование открытого ключа на сервер.

![](./image/20.png)

## Настройка удалённого доступа по SSH по ключу

- Попытка получения доступа с клиента к серверу посредством SSH-соединения.

![](./image/21.png)

## Организация туннелей SSH, перенаправление TCP-портов

- Просмотр на клиенте запущенных служб с протоколом TCP и перенаправление порта 80 на server.anspelov.net на порт 8080 на локальной машине.

![](./image/22.png)

## Организация туннелей SSH, перенаправление TCP-портов

- Повторный просмотр на клиенте запущенных служб с протоколом TCP.

![](./image/23.png)

## Организация туннелей SSH, перенаправление TCP-портов

- Запуск на клиенте браузера и ввод в адресной строке localhost:8080.

![](./image/24.png)

## Запуск консольных приложений через SSH

- Открытие на клиенте терминала под пользователем anspelov. Просмотр имени узла сервера, списка файлов на сервере и почты на сервере.

![](./image/25.png)

## Запуск графических приложений через SSH (X11Forwarding)

- Разрешение отображать на сервере в конфигурационном файле /etc/ssh/sshd_config на локальном клиентском компьютере графические интерфейсы X11.

![](./image/26.png)

## Запуск графических приложений через SSH (X11Forwarding)

- Перезапуск sshd.

![](./image/27.png)

## Запуск графических приложений через SSH (X11Forwarding)

- Попытка с клиента удалённо подключиться к серверу и запустить графическое приложение firefox.

![](./image/28.png)

## Внесение изменений в настройки внутреннего окружения виртуальной машины

- Переход на виртуальной машине server в каталог для внесения изменений в настройки внутреннего окружения /vagrant/provision/server/, создание в нём каталога ssh, в который поместили в соответствующие подкаталоги конфигурационный файл sshd_config. Создание в каталоге /vagrant/provision/server исполняемого файла ssh.sh.

![](./image/29.png)

## Внесение изменений в настройки внутреннего окружения виртуальной машины

- Открытие файла на редактирование и написание в нём скрипта.

![](./image/30.png)

## Внесение изменений в настройки внутреннего окружения виртуальной машины

- Редактирование конфигурационного файла Vagrantfile.

![](./image/31.png)
# Вывод

## Вывод

- В ходе выполнения лабораторной работы были приобретены практические навыки по настройке удалённого доступа к серверу с помощью SSH.